{"mappings":"4hBAAC,WACC,IAAMA,EAAO,CACXC,aAAcC,SAASC,iBAAiB,6BACxCC,cAAeF,SAASG,cAAc,8BACtCC,MAAOJ,SAASG,cAAc,yBAE5BE,GAAU,EAMd,SAASC,IACPR,EAAKM,MAAMG,UAAUC,OAAO,iBAC5BR,SAASS,KAAKF,UAAUC,OAAO,sBAC/BH,EACIL,SAASS,KAAKC,oBAAoB,UAAWC,GAC7CX,SAASS,KAAKG,iBAAiB,UAAWD,GAC9CN,GAAWA,C,CAUb,SAASM,EAAUE,GACF,WAAfA,EAAMC,KAAoBR,IAAgBS,I,CArB5CjB,EAAKC,aAAaiB,SAAQ,SAAAC,G,OAAMA,EAAGL,iBAAiB,QAASN,E,IAC7DR,EAAKI,cAAcU,iBAAiB,QAASN,GAC7CR,EAAKM,MAAMQ,iBAAiB,SAW5B,SAAyBC,GACvB,GAAIA,EAAMK,QAAUL,EAAMM,cACxB,OAEFb,G,GAMH,CA/BA,GCAD,IAAAc,EAAAC,EAAA,S,0BAuBA,SAASC,EAAiBC,GAoBxBH,EAAAtB,KAAK0B,eAAeC,UAAY,GAlBhC,IAAMC,GAAa,EAAAC,EAAAC,gBAAeL,GAC9BG,GAAcA,EAAWG,OAAS,IACpC,EAAAC,EAAAC,kBAAiBL,GACjBN,EAAAtB,KAAKkC,eAAezB,UAAU0B,IAAI,oBAElCb,EAAAtB,KAAKkC,eAAezB,UAAU2B,OAAO,kB,CAIzC,SAASC,EAAYlB,GACnBA,EAAGmB,aAAa,WAAY,IAC5BnB,EAAGV,UAAU0B,IAAI,gB,CAEnB,SAASI,EAAepB,GACtBA,EAAGqB,gBAAgB,YACnBrB,EAAGV,UAAU2B,OAAO,gB,CApCtBd,EAAAtB,KAAKyC,cAAc3B,iBAAiB,SAYpC,WACEU,EAAiB,SACjBa,EAAYf,EAAAtB,KAAKyC,eACjBF,EAAejB,EAAAtB,KAAK0C,aACpBpB,EAAAtB,KAAK2C,kBAAmB,C,IAf1BrB,EAAAtB,KAAK0C,YAAY5B,iBAAiB,SAIlC,WACEU,EAAiB,SACjBe,EAAejB,EAAAtB,KAAKyC,eACpBJ,EAAYf,EAAAtB,KAAK0C,aACjBpB,EAAAtB,KAAK2C,kBAAmB,C,IAN1BnB,EAAiB,S","sources":["src/js/dom/modal-footer.js","src/js/dom/my_library.js"],"sourcesContent":["(() => {\n  const refs = {\n    openModalBtn: document.querySelectorAll('[data-open-modal__window]'),\n    closeModalBtn: document.querySelector('[data-close-modal__window]'),\n    modal: document.querySelector('[data-modal__window]'),\n  };\n  let isShown = false;\n\n  refs.openModalBtn.forEach(el => el.addEventListener('click', toggleModal));\n  refs.closeModalBtn.addEventListener('click', toggleModal);\n  refs.modal.addEventListener('click', onBackdropClick);\n\n  function toggleModal() {\n    refs.modal.classList.toggle('is-open-modal');\n    document.body.classList.toggle('js-modal-is-hidden');\n    isShown\n      ? document.body.removeEventListener('keydown', onKeyDown)\n      : document.body.addEventListener('keydown', onKeyDown);\n    isShown = !isShown;\n  }\n\n  function onBackdropClick(event) {\n    if (event.target != event.currentTarget) {\n      return;\n    }\n    toggleModal();\n  }\n\n  function onKeyDown(event) {\n    event.code === 'Escape' ? toggleModal() : none;\n  }\n})();","import { refs } from '../common/refs';\nimport { getFromStorage } from '../other/localeStorageServices';\nimport { renderCollection } from './create-movie-markup';\n\nrefs.watchedButton.addEventListener('click', handleClickWatched);\nrefs.queueButton.addEventListener('click', handleClickQueue);\n\nrenderSavedFilms('watch');\n\nfunction handleClickQueue() {\n  renderSavedFilms('queue');\n  removeDisabled(refs.watchedButton);\n  setDisabled(refs.queueButton);\n  refs.isWatchTabActive = false;\n}\n\nfunction handleClickWatched() {\n  renderSavedFilms('watch');\n  setDisabled(refs.watchedButton);\n  removeDisabled(refs.queueButton);\n  refs.isWatchTabActive = true;\n}\n\nfunction renderSavedFilms(name) {\n  clearFilmList();\n  const addedFilms = getFromStorage(name);\n  if (addedFilms && addedFilms.length > 0) {\n    renderCollection(addedFilms);\n    refs.noFilmsMessage.classList.add('visually-hidden');\n  } else {\n    refs.noFilmsMessage.classList.remove('visually-hidden');\n  }\n}\n\nfunction setDisabled(el) {\n  el.setAttribute('disabled', '');\n  el.classList.add('button-active');\n}\nfunction removeDisabled(el) {\n  el.removeAttribute('disabled');\n  el.classList.remove('button-active');\n}\nfunction clearFilmList() {\n  refs.cardsContainer.innerHTML = '';\n}\n"],"names":["refs","openModalBtn","document","querySelectorAll","closeModalBtn","querySelector","modal","isShown","toggleModal","classList","toggle","body","removeEventListener","onKeyDown","addEventListener","event","code","none","forEach","el","target","currentTarget","$ihtdk","parcelRequire","$9d816f78cf7ff948$var$renderSavedFilms","name","cardsContainer","innerHTML","addedFilms","$kZ2no","getFromStorage","length","$duIyV","renderCollection","noFilmsMessage","add","remove","$9d816f78cf7ff948$var$setDisabled","setAttribute","$9d816f78cf7ff948$var$removeDisabled","removeAttribute","watchedButton","queueButton","isWatchTabActive"],"version":3,"file":"library.1538c3a9.js.map"}